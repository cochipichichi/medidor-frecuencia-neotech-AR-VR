<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Neotech Â· Visualizador Sonoro AR/VR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="theme-dark">
  <header class="topbar">
    <div class="brand">
      <span class="logo-badge">N</span>
      <div class="brand-text">
        <h1>Neotech</h1>
        <p>Laboratorio de experiencias inmersivas</p>
      </div>
    </div>
    <div class="top-actions">
      <button class="ghost-btn" id="open-viewer-nav">ğŸ›ï¸ Abrir visualizador</button>
      <div class="inclusive-controls">
        <button id="btn-home" title="Ir arriba">ğŸ </button>
        <button id="btn-voice" title="Leer pantalla">ğŸ—£ï¸</button>
        <button id="btn-theme" title="Tema claro/oscuro">ğŸŒ“</button>
        <button id="btn-plus" title="Aumentar tamaÃ±o">A+</button>
        <button id="btn-minus" title="Disminuir tamaÃ±o">Aâˆ’</button>
        <button id="btn-lang" title="Cambiar idioma">ğŸŒ</button>
        <button id="btn-focus" title="Modo atenciÃ³n">ğŸ§ </button>
        <button id="btn-search" title="Buscar">ğŸ”</button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero" id="hero">
    <div class="hero-content">
      <h2 data-i18n="hero-title">Visualizador de frecuencia 3D</h2>
      <p class="hero-sub" data-i18n="hero-sub">
        Analiza el audio del micrÃ³fono, mÃ­ralo como una malla viva y lÃ¡nzalo a AR o VR si tu dispositivo lo soporta.
      </p>
      <div id="xr-badge" class="xr-badge xr-unknown">Detectando soporte XRâ€¦</div>
      <div class="hero-actions">
        <button id="open-viewer" class="primary">ğŸ›ï¸ <span data-i18n="open-viewer">Abrir visualizador 3D</span></button>
        <button class="secondary" onclick="document.getElementById('features').scrollIntoView({behavior:'smooth'})">
          ğŸ“‹ <span data-i18n="see-features">Ver caracterÃ­sticas</span>
        </button>
      </div>
      <p class="hero-hint" data-i18n="hero-hint">Recomendado: Chrome / Samsung Internet + HTTPS + Android con WebXR.</p>
    </div>
    <div class="hero-preview">
      <div class="card-preview">
        <p class="preview-title" data-i18n="preview-title">Espectro en tiempo real</p>
        <div class="preview-bars">
          <span style="--h:80%"></span>
          <span style="--h:35%"></span>
          <span style="--h:60%"></span>
          <span style="--h:20%"></span>
          <span style="--h:75%"></span>
          <span style="--h:40%"></span>
        </div>
        <p class="preview-footer">ğŸ™ï¸ <span data-i18n="preview-footer">Entrada: MicrÃ³fono</span></p>
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="features" id="features">
    <article class="feature">
      <h3>ğŸ™ï¸ <span data-i18n="feat1-title">Captura en vivo</span></h3>
      <p data-i18n="feat1-text">Toma el audio del micrÃ³fono y lo convierte en datos de frecuencia.</p>
    </article>
    <article class="feature">
      <h3>ğŸ•¸ï¸ <span data-i18n="feat2-title">Malla reactiva</span></h3>
      <p data-i18n="feat2-text">Una superficie wireframe que respira con el sonido.</p>
    </article>
    <article class="feature">
      <h3>ğŸŒ <span data-i18n="feat3-title">AR / VR</span></h3>
      <p data-i18n="feat3-text">Botones dedicados para lanzar en WebXR si el navegador lo soporta.</p>
    </article>
  </section>

  <!-- VIEWER (oculto al inicio) -->
  <main class="layout hidden" id="viewer">
    <section class="controls">
      <h2 data-i18n="panel-title">Panel de control</h2>

      <button id="btn-mic">ğŸ™ï¸ <span data-i18n="btn-mic">Activar micrÃ³fono</span></button>
      <button id="btn-demo" class="secondary block">ğŸ§ <span data-i18n="btn-demo">Modo demo (sin micro)</span></button>

      <label>
        ğŸª„ <span data-i18n="lbl-smoothing">Suavizado</span>
        <input id="smoothing" type="range" min="0" max="0.95" step="0.01" value="0.6" />
      </label>

      <label>
        ğŸ“¶ <span data-i18n="lbl-bins">Barras</span>
        <input id="bins" type="range" min="16" max="96" step="8" value="48" />
      </label>

      <div class="preset-box">
        <h3>ğŸ¨ <span data-i18n="presets">Presets visuales</span></h3>
        <button id="preset-rainbow" class="tiny-btn">ğŸŒˆ</button>
        <button id="preset-dense" class="tiny-btn">ğŸ•¸ï¸</button>
        <button id="preset-space" class="tiny-btn">ğŸ”­</button>
      </div>

      <div class="xr-buttons">
        <h3>ğŸŒ <span data-i18n="xr-title">Realidad extendida</span></h3>
        <button id="btn-ar" class="xr ar">ğŸŸ£ AR</button>
        <button id="btn-vr" class="xr vr">ğŸŸ  VR</button>
        <p id="xr-status" class="xr-status" data-i18n="xr-status">Sin sesiÃ³n XR</p>
      </div>

      <div class="event-log">
        <h3>ğŸ“œ <span data-i18n="events">Eventos</span></h3>
        <ul id="event-log-list"></ul>
      </div>

      <button id="close-viewer" class="secondary block">â¬…ï¸ <span data-i18n="back">Volver al inicio</span></button>

      <p class="note" data-i18n="note">AR/VR requiere HTTPS y navegador con WebXR.</p>
    </section>

    <section class="view">
      <!-- este canvas es el que se veÃ­a en blanco si no estaba -->
      <canvas id="three-canvas"></canvas>
    </section>
  </main>

  <!-- overlay de bÃºsqueda -->
  <div class="search-overlay" id="search-overlay">
    <div class="search-box">
      <input type="text" id="search-input" placeholder="Buscar en la pÃ¡gina..." />
      <button id="search-close">Cerrar</button>
    </div>
  </div>

  <footer class="footer">
    ğŸ“šÂ© Neotech EduLab â€” EducaciÃ³n Inmersiva Â· ğŸ› ï¸Prohibida su copia y/o reproducciÃ³n
  </footer>

  <script type="module" src="app.js"></script>
</body>
</html>
